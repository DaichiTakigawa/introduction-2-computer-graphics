(()=>{"use strict";var t={887:(t,e,r)=>{r.r(e),r.d(e,{glMatrix:()=>n,mat2:()=>a,mat2d:()=>i,mat3:()=>o,mat4:()=>u,quat:()=>f,quat2:()=>h,vec2:()=>v,vec3:()=>c,vec4:()=>s});var n={};r.r(n),r.d(n,{ARRAY_TYPE:()=>p,EPSILON:()=>l,RANDOM:()=>m,equals:()=>g,setMatrixArrayType:()=>d,toRadian:()=>_});var a={};r.r(a),r.d(a,{LDU:()=>N,add:()=>U,adjoint:()=>L,clone:()=>y,copy:()=>x,create:()=>b,determinant:()=>P,equals:()=>V,exactEquals:()=>B,frob:()=>z,fromRotation:()=>T,fromScaling:()=>F,fromValues:()=>w,identity:()=>A,invert:()=>S,mul:()=>X,multiply:()=>I,multiplyScalar:()=>k,multiplyScalarAndAdd:()=>Q,rotate:()=>j,scale:()=>O,set:()=>q,str:()=>R,sub:()=>Y,subtract:()=>D,transpose:()=>E});var i={};r.r(i),r.d(i,{add:()=>st,clone:()=>Z,copy:()=>G,create:()=>C,determinant:()=>$,equals:()=>pt,exactEquals:()=>lt,frob:()=>ct,fromRotation:()=>at,fromScaling:()=>it,fromTranslation:()=>ot,fromValues:()=>W,identity:()=>H,invert:()=>J,mul:()=>mt,multiply:()=>tt,multiplyScalar:()=>ht,multiplyScalarAndAdd:()=>vt,rotate:()=>et,scale:()=>rt,set:()=>K,str:()=>ut,sub:()=>dt,subtract:()=>ft,translate:()=>nt});var o={};r.r(o),r.d(o,{add:()=>Vt,adjoint:()=>Et,clone:()=>gt,copy:()=>bt,create:()=>Mt,determinant:()=>St,equals:()=>Ct,exactEquals:()=>Yt,frob:()=>Bt,fromMat2d:()=>Rt,fromMat4:()=>_t,fromQuat:()=>zt,fromRotation:()=>Tt,fromScaling:()=>Ft,fromTranslation:()=>Ot,fromValues:()=>yt,identity:()=>At,invert:()=>qt,mul:()=>Zt,multiply:()=>Lt,multiplyScalar:()=>Qt,multiplyScalarAndAdd:()=>Xt,normalFromMat4:()=>Nt,projection:()=>Ut,rotate:()=>It,scale:()=>jt,set:()=>xt,str:()=>Dt,sub:()=>Gt,subtract:()=>kt,translate:()=>Pt,transpose:()=>wt});var u={};r.r(u),r.d(u,{add:()=>Fe,adjoint:()=>ne,clone:()=>Wt,copy:()=>Kt,create:()=>Ht,determinant:()=>ae,equals:()=>De,exactEquals:()=>Ue,frob:()=>Te,fromQuat:()=>qe,fromQuat2:()=>ge,fromRotation:()=>pe,fromRotationTranslation:()=>_e,fromRotationTranslationScale:()=>Ae,fromRotationTranslationScaleOrigin:()=>we,fromScaling:()=>le,fromTranslation:()=>ve,fromValues:()=>Jt,fromXRotation:()=>me,fromYRotation:()=>de,fromZRotation:()=>Me,frustum:()=>Ee,getRotation:()=>xe,getScaling:()=>ye,getTranslation:()=>be,identity:()=>te,invert:()=>re,lookAt:()=>Ie,mul:()=>Be,multiply:()=>ie,multiplyScalar:()=>ze,multiplyScalarAndAdd:()=>Ne,ortho:()=>Pe,perspective:()=>Se,perspectiveFromFieldOfView:()=>Le,rotate:()=>ce,rotateX:()=>se,rotateY:()=>fe,rotateZ:()=>he,scale:()=>ue,set:()=>$t,str:()=>Oe,sub:()=>Ve,subtract:()=>Re,targetTo:()=>je,translate:()=>oe,transpose:()=>ee});var c={};r.r(c),r.d(c,{add:()=>Ge,angle:()=>Ar,bezier:()=>mr,ceil:()=>Je,clone:()=>Qe,copy:()=>Ce,create:()=>ke,cross:()=>vr,dist:()=>Or,distance:()=>ir,div:()=>jr,divide:()=>Ke,dot:()=>hr,equals:()=>Sr,exactEquals:()=>Er,floor:()=>$e,forEach:()=>zr,fromValues:()=>Ye,hermite:()=>pr,inverse:()=>sr,len:()=>Fr,length:()=>Xe,lerp:()=>lr,max:()=>er,min:()=>tr,mul:()=>Ir,multiply:()=>We,negate:()=>cr,normalize:()=>fr,random:()=>dr,rotateX:()=>br,rotateY:()=>yr,rotateZ:()=>xr,round:()=>rr,scale:()=>nr,scaleAndAdd:()=>ar,set:()=>Ze,sqrDist:()=>Tr,sqrLen:()=>Rr,squaredDistance:()=>or,squaredLength:()=>ur,str:()=>qr,sub:()=>Pr,subtract:()=>He,transformMat3:()=>_r,transformMat4:()=>Mr,transformQuat:()=>gr,zero:()=>wr});var s={};r.r(s),r.d(s,{add:()=>kr,ceil:()=>Cr,clone:()=>Ur,copy:()=>Br,create:()=>Nr,cross:()=>cn,dist:()=>bn,distance:()=>$r,div:()=>gn,divide:()=>Yr,dot:()=>un,equals:()=>dn,exactEquals:()=>mn,floor:()=>Zr,forEach:()=>wn,fromValues:()=>Dr,inverse:()=>an,len:()=>xn,length:()=>en,lerp:()=>sn,max:()=>Hr,min:()=>Gr,mul:()=>_n,multiply:()=>Xr,negate:()=>nn,normalize:()=>on,random:()=>fn,round:()=>Wr,scale:()=>Kr,scaleAndAdd:()=>Jr,set:()=>Vr,sqrDist:()=>yn,sqrLen:()=>An,squaredDistance:()=>tn,squaredLength:()=>rn,str:()=>pn,sub:()=>Mn,subtract:()=>Qr,transformMat4:()=>hn,transformQuat:()=>vn,zero:()=>ln});var f={};r.r(f),r.d(f,{add:()=>ea,calculateW:()=>Fn,clone:()=>Kn,conjugate:()=>Vn,copy:()=>$n,create:()=>qn,dot:()=>aa,equals:()=>va,exactEquals:()=>ha,exp:()=>Rn,fromEuler:()=>Qn,fromMat3:()=>kn,fromValues:()=>Jn,getAngle:()=>Pn,getAxisAngle:()=>Ln,identity:()=>En,invert:()=>Bn,len:()=>ua,length:()=>oa,lerp:()=>ia,ln:()=>zn,mul:()=>ra,multiply:()=>In,normalize:()=>fa,pow:()=>Nn,random:()=>Dn,rotateX:()=>jn,rotateY:()=>On,rotateZ:()=>Tn,rotationTo:()=>la,scale:()=>na,set:()=>ta,setAxes:()=>ma,setAxisAngle:()=>Sn,slerp:()=>Un,sqlerp:()=>pa,sqrLen:()=>sa,squaredLength:()=>ca,str:()=>Xn});var h={};r.r(h),r.d(h,{add:()=>Da,clone:()=>Ma,conjugate:()=>Ca,copy:()=>wa,create:()=>da,dot:()=>Qa,equals:()=>ti,exactEquals:()=>$a,fromMat4:()=>Aa,fromRotation:()=>xa,fromRotationTranslation:()=>ba,fromRotationTranslationValues:()=>ga,fromTranslation:()=>ya,fromValues:()=>_a,getDual:()=>La,getReal:()=>Sa,getTranslation:()=>ja,identity:()=>qa,invert:()=>Ya,len:()=>Ga,length:()=>Za,lerp:()=>Xa,mul:()=>Va,multiply:()=>Ba,normalize:()=>Ka,rotateAroundAxis:()=>Ua,rotateByQuatAppend:()=>za,rotateByQuatPrepend:()=>Na,rotateX:()=>Ta,rotateY:()=>Fa,rotateZ:()=>Ra,scale:()=>ka,set:()=>Ea,setDual:()=>Ia,setReal:()=>Pa,sqrLen:()=>Wa,squaredLength:()=>Ha,str:()=>Ja,translate:()=>Oa});var v={};r.r(v),r.d(v,{add:()=>oi,angle:()=>Ti,ceil:()=>fi,clone:()=>ri,copy:()=>ai,create:()=>ei,cross:()=>qi,dist:()=>ki,distance:()=>Mi,div:()=>Vi,divide:()=>si,dot:()=>wi,equals:()=>Ni,exactEquals:()=>zi,floor:()=>hi,forEach:()=>Yi,fromValues:()=>ni,inverse:()=>xi,len:()=>Ui,length:()=>gi,lerp:()=>Ei,max:()=>li,min:()=>vi,mul:()=>Bi,multiply:()=>ci,negate:()=>yi,normalize:()=>Ai,random:()=>Si,rotate:()=>Oi,round:()=>pi,scale:()=>mi,scaleAndAdd:()=>di,set:()=>ii,sqrDist:()=>Qi,sqrLen:()=>Xi,squaredDistance:()=>_i,squaredLength:()=>bi,str:()=>Ri,sub:()=>Di,subtract:()=>ui,transformMat2:()=>Li,transformMat2d:()=>Pi,transformMat3:()=>Ii,transformMat4:()=>ji,zero:()=>Fi});var l=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,m=Math.random;function d(t){p=t}var M=Math.PI/180;function _(t){return t*M}function g(t,e){return Math.abs(t-e)<=l*Math.max(1,Math.abs(t),Math.abs(e))}function b(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function y(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function A(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function w(t,e,r,n){var a=new p(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function q(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function E(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function S(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*i-a*n;return o?(o=1/o,t[0]=i*o,t[1]=-n*o,t[2]=-a*o,t[3]=r*o,t):null}function L(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function P(t){return t[0]*t[3]-t[2]*t[1]}function I(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],c=r[1],s=r[2],f=r[3];return t[0]=n*u+i*c,t[1]=a*u+o*c,t[2]=n*s+i*f,t[3]=a*s+o*f,t}function j(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+i*u,t[1]=a*c+o*u,t[2]=n*-u+i*c,t[3]=a*-u+o*c,t}function O(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],c=r[1];return t[0]=n*u,t[1]=a*u,t[2]=i*c,t[3]=o*c,t}function T(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function F(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function R(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function z(t){return Math.hypot(t[0],t[1],t[2],t[3])}function N(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function U(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function D(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function B(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function V(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],u=e[1],c=e[2],s=e[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=l*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))}function k(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Q(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var X=I,Y=D;function C(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function Z(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function G(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function H(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function W(t,e,r,n,a,i){var o=new p(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=a,o[5]=i,o}function K(t,e,r,n,a,i,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t}function J(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=r*i-n*a;return c?(c=1/c,t[0]=i*c,t[1]=-n*c,t[2]=-a*c,t[3]=r*c,t[4]=(a*u-i*o)*c,t[5]=(n*o-r*u)*c,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=r[0],f=r[1],h=r[2],v=r[3],l=r[4],p=r[5];return t[0]=n*s+i*f,t[1]=a*s+o*f,t[2]=n*h+i*v,t[3]=a*h+o*v,t[4]=n*l+i*p+u,t[5]=a*l+o*p+c,t}function et(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=Math.sin(r),f=Math.cos(r);return t[0]=n*f+i*s,t[1]=a*f+o*s,t[2]=n*-s+i*f,t[3]=a*-s+o*f,t[4]=u,t[5]=c,t}function rt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=r[0],f=r[1];return t[0]=n*s,t[1]=a*s,t[2]=i*f,t[3]=o*f,t[4]=u,t[5]=c,t}function nt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=r[0],f=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=n*s+i*f+u,t[5]=a*s+o*f+c,t}function at(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function it(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function ut(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ct(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function st(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function ft(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function ht(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function vt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function lt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=e[0],s=e[1],f=e[2],h=e[3],v=e[4],p=e[5];return Math.abs(r-c)<=l*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-s)<=l*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(a-f)<=l*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-h)<=l*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-v)<=l*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-p)<=l*Math.max(1,Math.abs(u),Math.abs(p))}var mt=tt,dt=ft;function Mt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function gt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yt(t,e,r,n,a,i,o,u,c){var s=new p(9);return s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=a,s[5]=i,s[6]=o,s[7]=u,s[8]=c,s}function xt(t,e,r,n,a,i,o,u,c,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=c,t[8]=s,t}function At(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function wt(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function qt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],s=e[7],f=e[8],h=f*o-u*s,v=-f*i+u*c,l=s*i-o*c,p=r*h+n*v+a*l;return p?(p=1/p,t[0]=h*p,t[1]=(-f*n+a*s)*p,t[2]=(u*n-a*o)*p,t[3]=v*p,t[4]=(f*r-a*c)*p,t[5]=(-u*r+a*i)*p,t[6]=l*p,t[7]=(-s*r+n*c)*p,t[8]=(o*r-n*i)*p,t):null}function Et(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],s=e[7],f=e[8];return t[0]=o*f-u*s,t[1]=a*s-n*f,t[2]=n*u-a*o,t[3]=u*c-i*f,t[4]=r*f-a*c,t[5]=a*i-r*u,t[6]=i*s-o*c,t[7]=n*c-r*s,t[8]=r*o-n*i,t}function St(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],s=t[8];return e*(s*i-o*c)+r*(-s*a+o*u)+n*(c*a-i*u)}function Lt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=e[8],v=r[0],l=r[1],p=r[2],m=r[3],d=r[4],M=r[5],_=r[6],g=r[7],b=r[8];return t[0]=v*n+l*o+p*s,t[1]=v*a+l*u+p*f,t[2]=v*i+l*c+p*h,t[3]=m*n+d*o+M*s,t[4]=m*a+d*u+M*f,t[5]=m*i+d*c+M*h,t[6]=_*n+g*o+b*s,t[7]=_*a+g*u+b*f,t[8]=_*i+g*c+b*h,t}function Pt(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=e[8],v=r[0],l=r[1];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=c,t[6]=v*n+l*o+s,t[7]=v*a+l*u+f,t[8]=v*i+l*c+h,t}function It(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=e[8],v=Math.sin(r),l=Math.cos(r);return t[0]=l*n+v*o,t[1]=l*a+v*u,t[2]=l*i+v*c,t[3]=l*o-v*n,t[4]=l*u-v*a,t[5]=l*c-v*i,t[6]=s,t[7]=f,t[8]=h,t}function jt(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Ot(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Tt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ft(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Rt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function zt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,c=a+a,s=r*o,f=n*o,h=n*u,v=a*o,l=a*u,p=a*c,m=i*o,d=i*u,M=i*c;return t[0]=1-h-p,t[3]=f-M,t[6]=v+d,t[1]=f+M,t[4]=1-s-p,t[7]=l-m,t[2]=v-d,t[5]=l+m,t[8]=1-s-h,t}function Nt(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],s=e[7],f=e[8],h=e[9],v=e[10],l=e[11],p=e[12],m=e[13],d=e[14],M=e[15],_=r*u-n*o,g=r*c-a*o,b=r*s-i*o,y=n*c-a*u,x=n*s-i*u,A=a*s-i*c,w=f*m-h*p,q=f*d-v*p,E=f*M-l*p,S=h*d-v*m,L=h*M-l*m,P=v*M-l*d,I=_*P-g*L+b*S+y*E-x*q+A*w;return I?(I=1/I,t[0]=(u*P-c*L+s*S)*I,t[1]=(c*E-o*P-s*q)*I,t[2]=(o*L-u*E+s*w)*I,t[3]=(a*L-n*P-i*S)*I,t[4]=(r*P-a*E+i*q)*I,t[5]=(n*E-r*L-i*w)*I,t[6]=(m*A-d*x+M*y)*I,t[7]=(d*b-p*A-M*g)*I,t[8]=(p*x-m*b+M*_)*I,t):null}function Ut(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Dt(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Bt(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function Vt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function kt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function Qt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Xt(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Yt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Ct(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],s=t[7],f=t[8],h=e[0],v=e[1],p=e[2],m=e[3],d=e[4],M=e[5],_=e[6],g=e[7],b=e[8];return Math.abs(r-h)<=l*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-v)<=l*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(a-p)<=l*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(i-m)<=l*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-d)<=l*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-M)<=l*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(c-_)<=l*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(s-g)<=l*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(f-b)<=l*Math.max(1,Math.abs(f),Math.abs(b))}var Zt=Lt,Gt=kt;function Ht(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Wt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Kt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,r,n,a,i,o,u,c,s,f,h,v,l,m,d){var M=new p(16);return M[0]=t,M[1]=e,M[2]=r,M[3]=n,M[4]=a,M[5]=i,M[6]=o,M[7]=u,M[8]=c,M[9]=s,M[10]=f,M[11]=h,M[12]=v,M[13]=l,M[14]=m,M[15]=d,M}function $t(t,e,r,n,a,i,o,u,c,s,f,h,v,l,p,m,d){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=c,t[8]=s,t[9]=f,t[10]=h,t[11]=v,t[12]=l,t[13]=p,t[14]=m,t[15]=d,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],i=e[6],o=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=i,t[11]=e[14],t[12]=a,t[13]=o,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],s=e[7],f=e[8],h=e[9],v=e[10],l=e[11],p=e[12],m=e[13],d=e[14],M=e[15],_=r*u-n*o,g=r*c-a*o,b=r*s-i*o,y=n*c-a*u,x=n*s-i*u,A=a*s-i*c,w=f*m-h*p,q=f*d-v*p,E=f*M-l*p,S=h*d-v*m,L=h*M-l*m,P=v*M-l*d,I=_*P-g*L+b*S+y*E-x*q+A*w;return I?(I=1/I,t[0]=(u*P-c*L+s*S)*I,t[1]=(a*L-n*P-i*S)*I,t[2]=(m*A-d*x+M*y)*I,t[3]=(v*x-h*A-l*y)*I,t[4]=(c*E-o*P-s*q)*I,t[5]=(r*P-a*E+i*q)*I,t[6]=(d*b-p*A-M*g)*I,t[7]=(f*A-v*b+l*g)*I,t[8]=(o*L-u*E+s*w)*I,t[9]=(n*E-r*L-i*w)*I,t[10]=(p*x-m*b+M*_)*I,t[11]=(h*b-f*x-l*_)*I,t[12]=(u*q-o*S-c*w)*I,t[13]=(r*S-n*q+a*w)*I,t[14]=(m*g-p*y-d*_)*I,t[15]=(f*y-h*g+v*_)*I,t):null}function ne(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=e[5],c=e[6],s=e[7],f=e[8],h=e[9],v=e[10],l=e[11],p=e[12],m=e[13],d=e[14],M=e[15];return t[0]=u*(v*M-l*d)-h*(c*M-s*d)+m*(c*l-s*v),t[1]=-(n*(v*M-l*d)-h*(a*M-i*d)+m*(a*l-i*v)),t[2]=n*(c*M-s*d)-u*(a*M-i*d)+m*(a*s-i*c),t[3]=-(n*(c*l-s*v)-u*(a*l-i*v)+h*(a*s-i*c)),t[4]=-(o*(v*M-l*d)-f*(c*M-s*d)+p*(c*l-s*v)),t[5]=r*(v*M-l*d)-f*(a*M-i*d)+p*(a*l-i*v),t[6]=-(r*(c*M-s*d)-o*(a*M-i*d)+p*(a*s-i*c)),t[7]=r*(c*l-s*v)-o*(a*l-i*v)+f*(a*s-i*c),t[8]=o*(h*M-l*m)-f*(u*M-s*m)+p*(u*l-s*h),t[9]=-(r*(h*M-l*m)-f*(n*M-i*m)+p*(n*l-i*h)),t[10]=r*(u*M-s*m)-o*(n*M-i*m)+p*(n*s-i*u),t[11]=-(r*(u*l-s*h)-o*(n*l-i*h)+f*(n*s-i*u)),t[12]=-(o*(h*d-v*m)-f*(u*d-c*m)+p*(u*v-c*h)),t[13]=r*(h*d-v*m)-f*(n*d-a*m)+p*(n*v-a*h),t[14]=-(r*(u*d-c*m)-o*(n*d-a*m)+p*(n*c-a*u)),t[15]=r*(u*v-c*h)-o*(n*v-a*h)+f*(n*c-a*u),t}function ae(t){var e=t[0],r=t[1],n=t[2],a=t[3],i=t[4],o=t[5],u=t[6],c=t[7],s=t[8],f=t[9],h=t[10],v=t[11],l=t[12],p=t[13],m=t[14],d=t[15];return(e*o-r*i)*(h*d-v*m)-(e*u-n*i)*(f*d-v*p)+(e*c-a*i)*(f*m-h*p)+(r*u-n*o)*(s*d-v*l)-(r*c-a*o)*(s*m-h*l)+(n*c-a*u)*(s*p-f*l)}function ie(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=e[8],v=e[9],l=e[10],p=e[11],m=e[12],d=e[13],M=e[14],_=e[15],g=r[0],b=r[1],y=r[2],x=r[3];return t[0]=g*n+b*u+y*h+x*m,t[1]=g*a+b*c+y*v+x*d,t[2]=g*i+b*s+y*l+x*M,t[3]=g*o+b*f+y*p+x*_,g=r[4],b=r[5],y=r[6],x=r[7],t[4]=g*n+b*u+y*h+x*m,t[5]=g*a+b*c+y*v+x*d,t[6]=g*i+b*s+y*l+x*M,t[7]=g*o+b*f+y*p+x*_,g=r[8],b=r[9],y=r[10],x=r[11],t[8]=g*n+b*u+y*h+x*m,t[9]=g*a+b*c+y*v+x*d,t[10]=g*i+b*s+y*l+x*M,t[11]=g*o+b*f+y*p+x*_,g=r[12],b=r[13],y=r[14],x=r[15],t[12]=g*n+b*u+y*h+x*m,t[13]=g*a+b*c+y*v+x*d,t[14]=g*i+b*s+y*l+x*M,t[15]=g*o+b*f+y*p+x*_,t}function oe(t,e,r){var n,a,i,o,u,c,s,f,h,v,l,p,m=r[0],d=r[1],M=r[2];return e===t?(t[12]=e[0]*m+e[4]*d+e[8]*M+e[12],t[13]=e[1]*m+e[5]*d+e[9]*M+e[13],t[14]=e[2]*m+e[6]*d+e[10]*M+e[14],t[15]=e[3]*m+e[7]*d+e[11]*M+e[15]):(n=e[0],a=e[1],i=e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=e[8],v=e[9],l=e[10],p=e[11],t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=u,t[5]=c,t[6]=s,t[7]=f,t[8]=h,t[9]=v,t[10]=l,t[11]=p,t[12]=n*m+u*d+h*M+e[12],t[13]=a*m+c*d+v*M+e[13],t[14]=i*m+s*d+l*M+e[14],t[15]=o*m+f*d+p*M+e[15]),t}function ue(t,e,r){var n=r[0],a=r[1],i=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ce(t,e,r,n){var a,i,o,u,c,s,f,h,v,p,m,d,M,_,g,b,y,x,A,w,q,E,S,L,P=n[0],I=n[1],j=n[2],O=Math.hypot(P,I,j);return O<l?null:(P*=O=1/O,I*=O,j*=O,a=Math.sin(r),o=1-(i=Math.cos(r)),u=e[0],c=e[1],s=e[2],f=e[3],h=e[4],v=e[5],p=e[6],m=e[7],d=e[8],M=e[9],_=e[10],g=e[11],b=P*P*o+i,y=I*P*o+j*a,x=j*P*o-I*a,A=P*I*o-j*a,w=I*I*o+i,q=j*I*o+P*a,E=P*j*o+I*a,S=I*j*o-P*a,L=j*j*o+i,t[0]=u*b+h*y+d*x,t[1]=c*b+v*y+M*x,t[2]=s*b+p*y+_*x,t[3]=f*b+m*y+g*x,t[4]=u*A+h*w+d*q,t[5]=c*A+v*w+M*q,t[6]=s*A+p*w+_*q,t[7]=f*A+m*w+g*q,t[8]=u*E+h*S+d*L,t[9]=c*E+v*S+M*L,t[10]=s*E+p*S+_*L,t[11]=f*E+m*S+g*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function se(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[4],o=e[5],u=e[6],c=e[7],s=e[8],f=e[9],h=e[10],v=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*a+s*n,t[5]=o*a+f*n,t[6]=u*a+h*n,t[7]=c*a+v*n,t[8]=s*a-i*n,t[9]=f*a-o*n,t[10]=h*a-u*n,t[11]=v*a-c*n,t}function fe(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],c=e[3],s=e[8],f=e[9],h=e[10],v=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a-s*n,t[1]=o*a-f*n,t[2]=u*a-h*n,t[3]=c*a-v*n,t[8]=i*n+s*a,t[9]=o*n+f*a,t[10]=u*n+h*a,t[11]=c*n+v*a,t}function he(t,e,r){var n=Math.sin(r),a=Math.cos(r),i=e[0],o=e[1],u=e[2],c=e[3],s=e[4],f=e[5],h=e[6],v=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*a+s*n,t[1]=o*a+f*n,t[2]=u*a+h*n,t[3]=c*a+v*n,t[4]=s*a-i*n,t[5]=f*a-o*n,t[6]=h*a-u*n,t[7]=v*a-c*n,t}function ve(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function le(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,r){var n,a,i,o=r[0],u=r[1],c=r[2],s=Math.hypot(o,u,c);return s<l?null:(o*=s=1/s,u*=s,c*=s,n=Math.sin(e),i=1-(a=Math.cos(e)),t[0]=o*o*i+a,t[1]=u*o*i+c*n,t[2]=c*o*i-u*n,t[3]=0,t[4]=o*u*i-c*n,t[5]=u*u*i+a,t[6]=c*u*i+o*n,t[7]=0,t[8]=o*c*i+u*n,t[9]=u*c*i-o*n,t[10]=c*c*i+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function me(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function de(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Me(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=n+n,c=a+a,s=i+i,f=n*u,h=n*c,v=n*s,l=a*c,p=a*s,m=i*s,d=o*u,M=o*c,_=o*s;return t[0]=1-(l+m),t[1]=h+_,t[2]=v-M,t[3]=0,t[4]=h-_,t[5]=1-(f+m),t[6]=p+d,t[7]=0,t[8]=v+M,t[9]=p-d,t[10]=1-(f+l),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function ge(t,e){var r=new p(3),n=-e[0],a=-e[1],i=-e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=n*n+a*a+i*i+o*o;return h>0?(r[0]=2*(u*o+f*n+c*i-s*a)/h,r[1]=2*(c*o+f*a+s*n-u*i)/h,r[2]=2*(s*o+f*i+u*a-c*n)/h):(r[0]=2*(u*o+f*n+c*i-s*a),r[1]=2*(c*o+f*a+s*n-u*i),r[2]=2*(s*o+f*i+u*a-c*n)),_e(t,e,r),t}function be(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function ye(t,e){var r=e[0],n=e[1],a=e[2],i=e[4],o=e[5],u=e[6],c=e[8],s=e[9],f=e[10];return t[0]=Math.hypot(r,n,a),t[1]=Math.hypot(i,o,u),t[2]=Math.hypot(c,s,f),t}function xe(t,e){var r=new p(3);ye(r,e);var n=1/r[0],a=1/r[1],i=1/r[2],o=e[0]*n,u=e[1]*a,c=e[2]*i,s=e[4]*n,f=e[5]*a,h=e[6]*i,v=e[8]*n,l=e[9]*a,m=e[10]*i,d=o+f+m,M=0;return d>0?(M=2*Math.sqrt(d+1),t[3]=.25*M,t[0]=(h-l)/M,t[1]=(v-c)/M,t[2]=(u-s)/M):o>f&&o>m?(M=2*Math.sqrt(1+o-f-m),t[3]=(h-l)/M,t[0]=.25*M,t[1]=(u+s)/M,t[2]=(v+c)/M):f>m?(M=2*Math.sqrt(1+f-o-m),t[3]=(v-c)/M,t[0]=(u+s)/M,t[1]=.25*M,t[2]=(h+l)/M):(M=2*Math.sqrt(1+m-o-f),t[3]=(u-s)/M,t[0]=(v+c)/M,t[1]=(h+l)/M,t[2]=.25*M),t}function Ae(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3],c=a+a,s=i+i,f=o+o,h=a*c,v=a*s,l=a*f,p=i*s,m=i*f,d=o*f,M=u*c,_=u*s,g=u*f,b=n[0],y=n[1],x=n[2];return t[0]=(1-(p+d))*b,t[1]=(v+g)*b,t[2]=(l-_)*b,t[3]=0,t[4]=(v-g)*y,t[5]=(1-(h+d))*y,t[6]=(m+M)*y,t[7]=0,t[8]=(l+_)*x,t[9]=(m-M)*x,t[10]=(1-(h+p))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function we(t,e,r,n,a){var i=e[0],o=e[1],u=e[2],c=e[3],s=i+i,f=o+o,h=u+u,v=i*s,l=i*f,p=i*h,m=o*f,d=o*h,M=u*h,_=c*s,g=c*f,b=c*h,y=n[0],x=n[1],A=n[2],w=a[0],q=a[1],E=a[2],S=(1-(m+M))*y,L=(l+b)*y,P=(p-g)*y,I=(l-b)*x,j=(1-(v+M))*x,O=(d+_)*x,T=(p+g)*A,F=(d-_)*A,R=(1-(v+m))*A;return t[0]=S,t[1]=L,t[2]=P,t[3]=0,t[4]=I,t[5]=j,t[6]=O,t[7]=0,t[8]=T,t[9]=F,t[10]=R,t[11]=0,t[12]=r[0]+w-(S*w+I*q+T*E),t[13]=r[1]+q-(L*w+j*q+F*E),t[14]=r[2]+E-(P*w+O*q+R*E),t[15]=1,t}function qe(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r+r,u=n+n,c=a+a,s=r*o,f=n*o,h=n*u,v=a*o,l=a*u,p=a*c,m=i*o,d=i*u,M=i*c;return t[0]=1-h-p,t[1]=f+M,t[2]=v-d,t[3]=0,t[4]=f-M,t[5]=1-s-p,t[6]=l+m,t[7]=0,t[8]=v+d,t[9]=l-m,t[10]=1-s-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ee(t,e,r,n,a,i,o){var u=1/(r-e),c=1/(a-n),s=1/(i-o);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*c,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*c,t[10]=(o+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i*2*s,t[15]=0,t}function Se(t,e,r,n,a){var i,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=a&&a!==1/0?(i=1/(n-a),t[10]=(a+n)*i,t[14]=2*a*n*i):(t[10]=-1,t[14]=-2*n),t}function Le(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),c=2/(o+u),s=2/(a+i);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-(o-u)*c*.5,t[9]=(a-i)*s*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Pe(t,e,r,n,a,i,o){var u=1/(e-r),c=1/(n-a),s=1/(i-o);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*c,t[14]=(o+i)*s,t[15]=1,t}function Ie(t,e,r,n){var a,i,o,u,c,s,f,h,v,p,m=e[0],d=e[1],M=e[2],_=n[0],g=n[1],b=n[2],y=r[0],x=r[1],A=r[2];return Math.abs(m-y)<l&&Math.abs(d-x)<l&&Math.abs(M-A)<l?te(t):(f=m-y,h=d-x,v=M-A,a=g*(v*=p=1/Math.hypot(f,h,v))-b*(h*=p),i=b*(f*=p)-_*v,o=_*h-g*f,(p=Math.hypot(a,i,o))?(a*=p=1/p,i*=p,o*=p):(a=0,i=0,o=0),u=h*o-v*i,c=v*a-f*o,s=f*i-h*a,(p=Math.hypot(u,c,s))?(u*=p=1/p,c*=p,s*=p):(u=0,c=0,s=0),t[0]=a,t[1]=u,t[2]=f,t[3]=0,t[4]=i,t[5]=c,t[6]=h,t[7]=0,t[8]=o,t[9]=s,t[10]=v,t[11]=0,t[12]=-(a*m+i*d+o*M),t[13]=-(u*m+c*d+s*M),t[14]=-(f*m+h*d+v*M),t[15]=1,t)}function je(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=n[0],c=n[1],s=n[2],f=a-r[0],h=i-r[1],v=o-r[2],l=f*f+h*h+v*v;l>0&&(f*=l=1/Math.sqrt(l),h*=l,v*=l);var p=c*v-s*h,m=s*f-u*v,d=u*h-c*f;return(l=p*p+m*m+d*d)>0&&(p*=l=1/Math.sqrt(l),m*=l,d*=l),t[0]=p,t[1]=m,t[2]=d,t[3]=0,t[4]=h*d-v*m,t[5]=v*p-f*d,t[6]=f*m-h*p,t[7]=0,t[8]=f,t[9]=h,t[10]=v,t[11]=0,t[12]=a,t[13]=i,t[14]=o,t[15]=1,t}function Oe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Te(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Fe(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Re(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function ze(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Ne(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function Ue(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function De(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],s=t[7],f=t[8],h=t[9],v=t[10],p=t[11],m=t[12],d=t[13],M=t[14],_=t[15],g=e[0],b=e[1],y=e[2],x=e[3],A=e[4],w=e[5],q=e[6],E=e[7],S=e[8],L=e[9],P=e[10],I=e[11],j=e[12],O=e[13],T=e[14],F=e[15];return Math.abs(r-g)<=l*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(n-b)<=l*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-y)<=l*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(i-x)<=l*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-A)<=l*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(u-w)<=l*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(c-q)<=l*Math.max(1,Math.abs(c),Math.abs(q))&&Math.abs(s-E)<=l*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(f-S)<=l*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(h-L)<=l*Math.max(1,Math.abs(h),Math.abs(L))&&Math.abs(v-P)<=l*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(p-I)<=l*Math.max(1,Math.abs(p),Math.abs(I))&&Math.abs(m-j)<=l*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(d-O)<=l*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(M-T)<=l*Math.max(1,Math.abs(M),Math.abs(T))&&Math.abs(_-F)<=l*Math.max(1,Math.abs(_),Math.abs(F))}var Be=ie,Ve=Re;function ke(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Qe(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xe(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function Ye(t,e,r){var n=new p(3);return n[0]=t,n[1]=e,n[2]=r,n}function Ce(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ze(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Ge(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function He(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function We(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Ke(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function $e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function er(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function rr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function nr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function ar(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function ir(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.hypot(r,n,a)}function or(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a}function ur(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function cr(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function sr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function fr(t,e){var r=e[0],n=e[1],a=e[2],i=r*r+n*n+a*a;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function hr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vr(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],c=r[2];return t[0]=a*c-i*u,t[1]=i*o-n*c,t[2]=n*u-a*o,t}function lr(t,e,r,n){var a=e[0],i=e[1],o=e[2];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t}function pr(t,e,r,n,a,i){var o=i*i,u=o*(2*i-3)+1,c=o*(i-2)+i,s=o*(i-1),f=o*(3-2*i);return t[0]=e[0]*u+r[0]*c+n[0]*s+a[0]*f,t[1]=e[1]*u+r[1]*c+n[1]*s+a[1]*f,t[2]=e[2]*u+r[2]*c+n[2]*s+a[2]*f,t}function mr(t,e,r,n,a,i){var o=1-i,u=o*o,c=i*i,s=u*o,f=3*i*u,h=3*c*o,v=c*i;return t[0]=e[0]*s+r[0]*f+n[0]*h+a[0]*v,t[1]=e[1]*s+r[1]*f+n[1]*h+a[1]*v,t[2]=e[2]*s+r[2]*f+n[2]*h+a[2]*v,t}function dr(t,e){e=e||1;var r=2*m()*Math.PI,n=2*m()-1,a=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=n*e,t}function Mr(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[3]*n+r[7]*a+r[11]*i+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*a+r[8]*i+r[12])/o,t[1]=(r[1]*n+r[5]*a+r[9]*i+r[13])/o,t[2]=(r[2]*n+r[6]*a+r[10]*i+r[14])/o,t}function _r(t,e,r){var n=e[0],a=e[1],i=e[2];return t[0]=n*r[0]+a*r[3]+i*r[6],t[1]=n*r[1]+a*r[4]+i*r[7],t[2]=n*r[2]+a*r[5]+i*r[8],t}function gr(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=e[0],c=e[1],s=e[2],f=a*s-i*c,h=i*u-n*s,v=n*c-a*u,l=a*v-i*h,p=i*f-n*v,m=n*h-a*f,d=2*o;return f*=d,h*=d,v*=d,l*=2,p*=2,m*=2,t[0]=u+f+l,t[1]=c+h+p,t[2]=s+v+m,t}function br(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0],i[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),i[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function yr(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),i[1]=a[1],i[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function xr(t,e,r,n){var a=[],i=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],i[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),i[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),i[2]=a[2],t[0]=i[0]+r[0],t[1]=i[1]+r[1],t[2]=i[2]+r[2],t}function Ar(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],u=e[2],c=Math.sqrt(r*r+n*n+a*a)*Math.sqrt(i*i+o*o+u*u),s=c&&hr(t,e)/c;return Math.acos(Math.min(Math.max(s,-1),1))}function wr(t){return t[0]=0,t[1]=0,t[2]=0,t}function qr(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Er(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Sr(t,e){var r=t[0],n=t[1],a=t[2],i=e[0],o=e[1],u=e[2];return Math.abs(r-i)<=l*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(a-u)<=l*Math.max(1,Math.abs(a),Math.abs(u))}var Lr,Pr=He,Ir=We,jr=Ke,Or=ir,Tr=or,Fr=Xe,Rr=ur,zr=(Lr=ke(),function(t,e,r,n,a,i){var o,u;for(e||(e=3),r||(r=0),u=n?Math.min(n*e+r,t.length):t.length,o=r;o<u;o+=e)Lr[0]=t[o],Lr[1]=t[o+1],Lr[2]=t[o+2],a(Lr,Lr,i),t[o]=Lr[0],t[o+1]=Lr[1],t[o+2]=Lr[2];return t});function Nr(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Ur(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Dr(t,e,r,n){var a=new p(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a}function Br(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Vr(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t}function kr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function Qr(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Xr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function Yr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Cr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Zr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Gr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Hr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function Wr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Kr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Jr(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function $r(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return Math.hypot(r,n,a,i)}function tn(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],i=e[3]-t[3];return r*r+n*n+a*a+i*i}function en(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.hypot(e,r,n,a)}function rn(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a}function nn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function an(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function on(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=a*o,t[3]=i*o,t}function un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function cn(t,e,r,n){var a=r[0]*n[1]-r[1]*n[0],i=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],u=r[1]*n[2]-r[2]*n[1],c=r[1]*n[3]-r[3]*n[1],s=r[2]*n[3]-r[3]*n[2],f=e[0],h=e[1],v=e[2],l=e[3];return t[0]=h*s-v*c+l*u,t[1]=-f*s+v*o-l*i,t[2]=f*c-h*o+l*a,t[3]=-f*u+h*i-v*a,t}function sn(t,e,r,n){var a=e[0],i=e[1],o=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t[2]=o+n*(r[2]-o),t[3]=u+n*(r[3]-u),t}function fn(t,e){var r,n,a,i,o,u;e=e||1;do{o=(r=2*m()-1)*r+(n=2*m()-1)*n}while(o>=1);do{u=(a=2*m()-1)*a+(i=2*m()-1)*i}while(u>=1);var c=Math.sqrt((1-o)/u);return t[0]=e*r,t[1]=e*n,t[2]=e*a*c,t[3]=e*i*c,t}function hn(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*i+r[12]*o,t[1]=r[1]*n+r[5]*a+r[9]*i+r[13]*o,t[2]=r[2]*n+r[6]*a+r[10]*i+r[14]*o,t[3]=r[3]*n+r[7]*a+r[11]*i+r[15]*o,t}function vn(t,e,r){var n=e[0],a=e[1],i=e[2],o=r[0],u=r[1],c=r[2],s=r[3],f=s*n+u*i-c*a,h=s*a+c*n-o*i,v=s*i+o*a-u*n,l=-o*n-u*a-c*i;return t[0]=f*s+l*-o+h*-c-v*-u,t[1]=h*s+l*-u+v*-o-f*-c,t[2]=v*s+l*-c+f*-u-h*-o,t[3]=e[3],t}function ln(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function mn(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function dn(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=e[0],u=e[1],c=e[2],s=e[3];return Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-u)<=l*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(a-c)<=l*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))}var Mn=Qr,_n=Xr,gn=Yr,bn=$r,yn=tn,xn=en,An=rn,wn=function(){var t=Nr();return function(e,r,n,a,i,o){var u,c;for(r||(r=4),n||(n=0),c=a?Math.min(a*r+n,e.length):e.length,u=n;u<c;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,o),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();function qn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function En(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Sn(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Ln(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>l?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function Pn(t,e){var r=aa(t,e);return Math.acos(2*r*r-1)}function In(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],c=r[1],s=r[2],f=r[3];return t[0]=n*f+o*u+a*s-i*c,t[1]=a*f+o*c+i*u-n*s,t[2]=i*f+o*s+n*c-a*u,t[3]=o*f-n*u-a*c-i*s,t}function jn(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+o*u,t[1]=a*c+i*u,t[2]=i*c-a*u,t[3]=o*c-n*u,t}function On(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c-i*u,t[1]=a*c+o*u,t[2]=i*c+n*u,t[3]=o*c-a*u,t}function Tn(t,e,r){r*=.5;var n=e[0],a=e[1],i=e[2],o=e[3],u=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*u,t[1]=a*c-n*u,t[2]=i*c+o*u,t[3]=o*c-i*u,t}function Fn(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t}function Rn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=Math.sqrt(r*r+n*n+a*a),u=Math.exp(i),c=o>0?u*Math.sin(o)/o:0;return t[0]=r*c,t[1]=n*c,t[2]=a*c,t[3]=u*Math.cos(o),t}function zn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=Math.sqrt(r*r+n*n+a*a),u=o>0?Math.atan2(o,i)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=a*u,t[3]=.5*Math.log(r*r+n*n+a*a+i*i),t}function Nn(t,e,r){return zn(t,e),na(t,t,r),Rn(t,t),t}function Un(t,e,r,n){var a,i,o,u,c,s=e[0],f=e[1],h=e[2],v=e[3],p=r[0],m=r[1],d=r[2],M=r[3];return(i=s*p+f*m+h*d+v*M)<0&&(i=-i,p=-p,m=-m,d=-d,M=-M),1-i>l?(a=Math.acos(i),o=Math.sin(a),u=Math.sin((1-n)*a)/o,c=Math.sin(n*a)/o):(u=1-n,c=n),t[0]=u*s+c*p,t[1]=u*f+c*m,t[2]=u*h+c*d,t[3]=u*v+c*M,t}function Dn(t){var e=m(),r=m(),n=m(),a=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=i*Math.sin(2*Math.PI*n),t[3]=i*Math.cos(2*Math.PI*n),t}function Bn(t,e){var r=e[0],n=e[1],a=e[2],i=e[3],o=r*r+n*n+a*a+i*i,u=o?1/o:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=i*u,t}function Vn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function kn(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*i+i]-e[3*o+o]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*i+o]-e[3*o+i])*r,t[i]=(e[3*i+a]+e[3*a+i])*r,t[o]=(e[3*o+a]+e[3*a+o])*r}return t}function Qn(t,e,r,n){var a=.5*Math.PI/180;e*=a,r*=a,n*=a;var i=Math.sin(e),o=Math.cos(e),u=Math.sin(r),c=Math.cos(r),s=Math.sin(n),f=Math.cos(n);return t[0]=i*c*f-o*u*s,t[1]=o*u*f+i*c*s,t[2]=o*c*s-i*u*f,t[3]=o*c*f+i*u*s,t}function Xn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Yn,Cn,Zn,Gn,Hn,Wn,Kn=Ur,Jn=Dr,$n=Br,ta=Vr,ea=kr,ra=In,na=Kr,aa=un,ia=sn,oa=en,ua=oa,ca=rn,sa=ca,fa=on,ha=mn,va=dn,la=(Yn=ke(),Cn=Ye(1,0,0),Zn=Ye(0,1,0),function(t,e,r){var n=hr(e,r);return n<-.999999?(vr(Yn,Cn,e),Fr(Yn)<1e-6&&vr(Yn,Zn,e),fr(Yn,Yn),Sn(t,Yn,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(vr(Yn,e,r),t[0]=Yn[0],t[1]=Yn[1],t[2]=Yn[2],t[3]=1+n,fa(t,t))}),pa=(Gn=qn(),Hn=qn(),function(t,e,r,n,a,i){return Un(Gn,e,a,i),Un(Hn,r,n,i),Un(t,Gn,Hn,2*i*(1-i)),t}),ma=(Wn=Mt(),function(t,e,r,n){return Wn[0]=r[0],Wn[3]=r[1],Wn[6]=r[2],Wn[1]=n[0],Wn[4]=n[1],Wn[7]=n[2],Wn[2]=-e[0],Wn[5]=-e[1],Wn[8]=-e[2],fa(t,kn(t,Wn))});function da(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function Ma(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function _a(t,e,r,n,a,i,o,u){var c=new p(8);return c[0]=t,c[1]=e,c[2]=r,c[3]=n,c[4]=a,c[5]=i,c[6]=o,c[7]=u,c}function ga(t,e,r,n,a,i,o){var u=new p(8);u[0]=t,u[1]=e,u[2]=r,u[3]=n;var c=.5*a,s=.5*i,f=.5*o;return u[4]=c*n+s*r-f*e,u[5]=s*n+f*t-c*r,u[6]=f*n+c*e-s*t,u[7]=-c*t-s*e-f*r,u}function ba(t,e,r){var n=.5*r[0],a=.5*r[1],i=.5*r[2],o=e[0],u=e[1],c=e[2],s=e[3];return t[0]=o,t[1]=u,t[2]=c,t[3]=s,t[4]=n*s+a*c-i*u,t[5]=a*s+i*o-n*c,t[6]=i*s+n*u-a*o,t[7]=-n*o-a*u-i*c,t}function ya(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function xa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Aa(t,e){var r=qn();xe(r,e);var n=new p(3);return be(n,e),ba(t,r,n),t}function wa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function qa(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function Ea(t,e,r,n,a,i,o,u,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=i,t[5]=o,t[6]=u,t[7]=c,t}var Sa=$n;function La(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var Pa=$n;function Ia(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function ja(t,e){var r=e[4],n=e[5],a=e[6],i=e[7],o=-e[0],u=-e[1],c=-e[2],s=e[3];return t[0]=2*(r*s+i*o+n*c-a*u),t[1]=2*(n*s+i*u+a*o-r*c),t[2]=2*(a*s+i*c+r*u-n*o),t}function Oa(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=.5*r[0],c=.5*r[1],s=.5*r[2],f=e[4],h=e[5],v=e[6],l=e[7];return t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=o*u+a*s-i*c+f,t[5]=o*c+i*u-n*s+h,t[6]=o*s+n*c-a*u+v,t[7]=-n*u-a*c-i*s+l,t}function Ta(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=u*o+f*n+c*i-s*a,v=c*o+f*a+s*n-u*i,l=s*o+f*i+u*a-c*n,p=f*o-u*n-c*a-s*i;return jn(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=h*o+p*n+v*i-l*a,t[5]=v*o+p*a+l*n-h*i,t[6]=l*o+p*i+h*a-v*n,t[7]=p*o-h*n-v*a-l*i,t}function Fa(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=u*o+f*n+c*i-s*a,v=c*o+f*a+s*n-u*i,l=s*o+f*i+u*a-c*n,p=f*o-u*n-c*a-s*i;return On(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=h*o+p*n+v*i-l*a,t[5]=v*o+p*a+l*n-h*i,t[6]=l*o+p*i+h*a-v*n,t[7]=p*o-h*n-v*a-l*i,t}function Ra(t,e,r){var n=-e[0],a=-e[1],i=-e[2],o=e[3],u=e[4],c=e[5],s=e[6],f=e[7],h=u*o+f*n+c*i-s*a,v=c*o+f*a+s*n-u*i,l=s*o+f*i+u*a-c*n,p=f*o-u*n-c*a-s*i;return Tn(t,e,r),n=t[0],a=t[1],i=t[2],o=t[3],t[4]=h*o+p*n+v*i-l*a,t[5]=v*o+p*a+l*n-h*i,t[6]=l*o+p*i+h*a-v*n,t[7]=p*o-h*n-v*a-l*i,t}function za(t,e,r){var n=r[0],a=r[1],i=r[2],o=r[3],u=e[0],c=e[1],s=e[2],f=e[3];return t[0]=u*o+f*n+c*i-s*a,t[1]=c*o+f*a+s*n-u*i,t[2]=s*o+f*i+u*a-c*n,t[3]=f*o-u*n-c*a-s*i,u=e[4],c=e[5],s=e[6],f=e[7],t[4]=u*o+f*n+c*i-s*a,t[5]=c*o+f*a+s*n-u*i,t[6]=s*o+f*i+u*a-c*n,t[7]=f*o-u*n-c*a-s*i,t}function Na(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[0],c=r[1],s=r[2],f=r[3];return t[0]=n*f+o*u+a*s-i*c,t[1]=a*f+o*c+i*u-n*s,t[2]=i*f+o*s+n*c-a*u,t[3]=o*f-n*u-a*c-i*s,u=r[4],c=r[5],s=r[6],f=r[7],t[4]=n*f+o*u+a*s-i*c,t[5]=a*f+o*c+i*u-n*s,t[6]=i*f+o*s+n*c-a*u,t[7]=o*f-n*u-a*c-i*s,t}function Ua(t,e,r,n){if(Math.abs(n)<l)return wa(t,e);var a=Math.hypot(r[0],r[1],r[2]);n*=.5;var i=Math.sin(n),o=i*r[0]/a,u=i*r[1]/a,c=i*r[2]/a,s=Math.cos(n),f=e[0],h=e[1],v=e[2],p=e[3];t[0]=f*s+p*o+h*c-v*u,t[1]=h*s+p*u+v*o-f*c,t[2]=v*s+p*c+f*u-h*o,t[3]=p*s-f*o-h*u-v*c;var m=e[4],d=e[5],M=e[6],_=e[7];return t[4]=m*s+_*o+d*c-M*u,t[5]=d*s+_*u+M*o-m*c,t[6]=M*s+_*c+m*u-d*o,t[7]=_*s-m*o-d*u-M*c,t}function Da(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function Ba(t,e,r){var n=e[0],a=e[1],i=e[2],o=e[3],u=r[4],c=r[5],s=r[6],f=r[7],h=e[4],v=e[5],l=e[6],p=e[7],m=r[0],d=r[1],M=r[2],_=r[3];return t[0]=n*_+o*m+a*M-i*d,t[1]=a*_+o*d+i*m-n*M,t[2]=i*_+o*M+n*d-a*m,t[3]=o*_-n*m-a*d-i*M,t[4]=n*f+o*u+a*s-i*c+h*_+p*m+v*M-l*d,t[5]=a*f+o*c+i*u-n*s+v*_+p*d+l*m-h*M,t[6]=i*f+o*s+n*c-a*u+l*_+p*M+h*d-v*m,t[7]=o*f-n*u-a*c-i*s+p*_-h*m-v*d-l*M,t}var Va=Ba;function ka(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var Qa=aa;function Xa(t,e,r,n){var a=1-n;return Qa(e,r)<0&&(n=-n),t[0]=e[0]*a+r[0]*n,t[1]=e[1]*a+r[1]*n,t[2]=e[2]*a+r[2]*n,t[3]=e[3]*a+r[3]*n,t[4]=e[4]*a+r[4]*n,t[5]=e[5]*a+r[5]*n,t[6]=e[6]*a+r[6]*n,t[7]=e[7]*a+r[7]*n,t}function Ya(t,e){var r=Ha(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Ca(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Za=oa,Ga=Za,Ha=ca,Wa=Ha;function Ka(t,e){var r=Ha(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,a=e[1]/r,i=e[2]/r,o=e[3]/r,u=e[4],c=e[5],s=e[6],f=e[7],h=n*u+a*c+i*s+o*f;t[0]=n,t[1]=a,t[2]=i,t[3]=o,t[4]=(u-n*h)/r,t[5]=(c-a*h)/r,t[6]=(s-i*h)/r,t[7]=(f-o*h)/r}return t}function Ja(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function $a(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ti(t,e){var r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],u=t[5],c=t[6],s=t[7],f=e[0],h=e[1],v=e[2],p=e[3],m=e[4],d=e[5],M=e[6],_=e[7];return Math.abs(r-f)<=l*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=l*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-v)<=l*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(i-p)<=l*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-m)<=l*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-d)<=l*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(c-M)<=l*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(s-_)<=l*Math.max(1,Math.abs(s),Math.abs(_))}function ei(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function ri(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function ni(t,e){var r=new p(2);return r[0]=t,r[1]=e,r}function ai(t,e){return t[0]=e[0],t[1]=e[1],t}function ii(t,e,r){return t[0]=e,t[1]=r,t}function oi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function ui(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function ci(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function si(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function fi(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function hi(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function vi(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function li(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function pi(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function mi(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function di(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function Mi(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function _i(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function gi(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function bi(t){var e=t[0],r=t[1];return e*e+r*r}function yi(t,e){return t[0]=-e[0],t[1]=-e[1],t}function xi(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function Ai(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t}function wi(t,e){return t[0]*e[0]+t[1]*e[1]}function qi(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function Ei(t,e,r,n){var a=e[0],i=e[1];return t[0]=a+n*(r[0]-a),t[1]=i+n*(r[1]-i),t}function Si(t,e){e=e||1;var r=2*m()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function Li(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t}function Pi(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t}function Ii(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t}function ji(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t}function Oi(t,e,r,n){var a=e[0]-r[0],i=e[1]-r[1],o=Math.sin(n),u=Math.cos(n);return t[0]=a*u-i*o+r[0],t[1]=a*o+i*u+r[1],t}function Ti(t,e){var r=t[0],n=t[1],a=e[0],i=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(a*a+i*i),u=o&&(r*a+n*i)/o;return Math.acos(Math.min(Math.max(u,-1),1))}function Fi(t){return t[0]=0,t[1]=0,t}function Ri(t){return"vec2("+t[0]+", "+t[1]+")"}function zi(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ni(t,e){var r=t[0],n=t[1],a=e[0],i=e[1];return Math.abs(r-a)<=l*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-i)<=l*Math.max(1,Math.abs(n),Math.abs(i))}var Ui=gi,Di=ui,Bi=ci,Vi=si,ki=Mi,Qi=_i,Xi=bi,Yi=function(){var t=ei();return function(e,r,n,a,i,o){var u,c;for(r||(r=2),n||(n=0),c=a?Math.min(a*r+n,e.length):e.length,u=n;u<c;u+=r)t[0]=e[u],t[1]=e[u+1],i(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}()},16:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.make_boundingbox=e.BBox=void 0;var n=r(887),a=function(){function t(){this.set_empty()}return t.prototype.set_empty=function(){this.min=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.max=[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]},t.prototype.extend=function(t){this.min=n.vec3.min(this.min,this.min,t),this.max=n.vec3.max(this.max,this.max,t)},t.prototype.diagonal=function(){return n.vec3.sub(n.vec3.create(),this.max,this.min)},t.prototype.diagonal_norm=function(){return n.vec3.len(this.diagonal())},t.prototype.center=function(){return n.vec3.lerp(n.vec3.create(),this.max,this.min,.5)},t.prototype.is_empty=function(){return!(this.min[0]<this.max[0]&&this.min[1]<this.max[1]&&this.min[2]<this.max[2])},t}();e.BBox=a,e.make_boundingbox=function(){return new a}},70:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.get_camera=e.Camera=void 0;var n=r(887),a=function(){function t(t){this.viewport_width=t,this.eye=[0,0,1],this.center=[0,0,0],this.up=[0,1,0],this.mode="none",this.prevpos=n.vec2.create()}return t.prototype.center_to_eye=function(){return n.vec3.sub(n.vec3.create(),this.eye,this.center)},t.prototype.eye_to_center=function(){return n.vec3.sub(n.vec3.create(),this.center,this.eye)},t.prototype.right=function(){return n.vec3.normalize(n.vec3.create(),n.vec3.cross(n.vec3.create(),this.eye_to_center(),this.up))},t.prototype.lookAt=function(t){n.mat4.lookAt(t,this.eye,this.center,this.up)},t.prototype.is_moving=function(){return"none"!=this.mode},t.prototype.start_moving=function(t,e){n.vec2.copy(this.prevpos,t),this.mode=e,this.up=n.vec3.normalize(n.vec3.create(),n.vec3.cross(n.vec3.create(),this.right(),this.eye_to_center()))},t.prototype.move=function(t){var e=n.vec2.scale_ip(n.vec2.sub(n.vec2.create(),t,this.prevpos),1/this.viewport_width);if("rotate"==this.mode){var r=n.vec2.scale(n.vec2.create(),e,1.7*Math.PI),a=n.quat.setAxisAngle(n.quat.create(),this.up,-r[0]),i=n.quat.setAxisAngle(n.quat.create(),this.right(),r[1]),o=n.quat.mul(n.quat.create(),i,a);this.eye=n.vec3.transformQuat(n.vec3.create(),this.center_to_eye(),o),n.vec3.add_ip(this.eye,this.center),n.vec3.transformQuat_ip(this.up,o)}else if("pan"==this.mode){var u=n.vec2.scale(n.vec2.create(),e,n.vec3.len(this.center_to_eye())),c=n.vec3.scale(n.vec3.create(),this.right(),-u[0]),s=n.vec3.scale(n.vec3.create(),this.up,-u[1]),f=n.vec3.add(n.vec3.create(),c,s);n.vec3.add_ip(this.eye,f),n.vec3.add_ip(this.center,f)}else"zoom"==this.mode&&(f=n.vec3.scale(n.vec3.create(),this.eye_to_center(),e[0]-e[1]),n.vec3.add_ip(this.eye,f));n.vec2.copy(this.prevpos,t)},t.prototype.finish_moving=function(){this.mode="none"},t}();e.Camera=a,e.get_camera=function(t){return new a(t)}},36:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.colormap=void 0;var n=r(887);!function(t){function e(t,e){e=Math.max(0,Math.min(1,e));var r=t.length-1,a=r*e,i=Math.floor(a),o=a-i,u=i==r?i:i+1;return n.vec3.lerp(n.vec3.create(),t[i],t[u],o)}t.parula=function(t){return e([[53/255,42/255,135/255],[19/255,136/255,211/255],[73/255,188/255,148/255],[236/255,185/255,76/255],[249/255,251/255,14/255]],t)},t.jet=function(t){return e([[0,0,.5],[0,0,1],[0,1,1],[1,1,0],[1,0,0],[.5,0,0]],t)},t.hsv=function(t){return e([[1,0,0],[1,1,0],[0,1,0],[0,1,1],[0,0,1],[1,0,1],[1,0,0]],t)},t.hot=function(t){return e([[0,0,0],[1,0,0],[1,1,0],[1,1,1]],t)},t.cool=function(t){return e([[0,1,1],[1,0,1]],t)},t.spring=function(t){return e([[1,0,1],[1,1,0]],t)},t.summer=function(t){return e([[0,.5,0],[1,1,0]],t)},t.autumn=function(t){return e([[1,0,0],[1,1,0]],t)},t.winter=function(t){return e([[0,0,1],[0,1,.5]],t)},t.gray=function(t){return e([[0,0,0],[1,1,1]],t)},t.bone=function(t){return e([[0,0,0],[119/255,135/255,151/255],[1,1,1]],t)},t.copper=function(t){return e([[0,0,0],[1,199/255,127/255]],t)},t.pink=function(t){return e([[60/255,0,0],[212/255,184/255,152/255],[1,1,1]],t)}}(e.colormap||(e.colormap={}))},402:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.get_drawutil=void 0;var n=r(887);e.get_drawutil=function(t,e){return{xyzaxis:function(){e.begin(t.LINES),e.color(1,0,0),e.vertex(0,0,0),e.vertex(1,0,0),e.color(0,1,0),e.vertex(0,0,0),e.vertex(0,1,0),e.color(0,0,1),e.vertex(0,0,0),e.vertex(0,0,1),e.end()},xygrid:function(r){e.begin(t.LINES);for(var n=-r;n<=r;++n)e.vertex(n,-r,0),e.vertex(n,r,0),e.vertex(-r,n,0),e.vertex(r,n,0);e.end()},yzgrid:function(r){e.begin(t.LINES);for(var n=-r;n<=r;++n)e.vertex(0,n,-r),e.vertex(0,n,r),e.vertex(0,-r,n),e.vertex(0,r,n);e.end()},zxgrid:function(r){e.begin(t.LINES);for(var n=-r;n<=r;++n)e.vertex(n,0,-r),e.vertex(n,0,r),e.vertex(-r,0,n),e.vertex(r,0,n);e.end()},quadmesh:function(r,n,a){e.begin("line"==r?t.LINES:e.QUADS);for(var i=0;i<a.length/4;++i)for(var o=0;o<4;++o){var u=a[4*i+o],c=n[3*u],s=n[3*u+1],f=n[3*u+2];if(e.vertex(c,s,f),"line"==r){var h=a[4*i+(o+1)%4],v=n[3*h],l=n[3*h+1],p=n[3*h+2];e.vertex(v,l,p)}}e.end()},trimesh:function(r,n,a){e.begin("line"==r?t.LINES:t.TRIANGLES);for(var i=0;i<a.length/3;++i)for(var o=0;o<3;++o){var u=a[3*i+o],c=n[3*u],s=n[3*u+1],f=n[3*u+2];if(e.vertex(c,s,f),"line"==r){var h=a[3*i+(o+1)%3],v=n[3*h],l=n[3*h+1],p=n[3*h+2];e.vertex(v,l,p)}}e.end()},cube:function(t,e){var r=e/2;this.quadmesh(t,[-r,-r,-r,r,-r,-r,-r,r,-r,r,r,-r,-r,-r,r,r,-r,r,-r,r,r,r,r,r],[1,3,7,5,3,2,6,7,2,0,4,6,0,1,5,4,4,5,7,6,0,2,3,1])},circle:function(r,n,a){a||(a=12);var i=n/2;e.begin("line"==r?t.LINE_LOOP:t.TRIANGLE_FAN);for(var o=0;o<a;++o){var u=2*o*Math.PI/a,c=i*Math.cos(u),s=i*Math.sin(u);e.vertex(c,s,0)}e.end()},sphere:function(r,n,a,i){function o(t,e){return[n*Math.cos(t)*Math.sin(e),n*Math.sin(t)*Math.sin(e),n*Math.cos(e)]}e.begin("line"==r?t.LINES:e.QUADS);for(var u=0,c=Math.PI/i,s=0;s<i;++s,u+=c)for(var f=0,h=2*Math.PI/a,v=0;v<a;++v,f+=h)for(var l=[o(f,u),o(f+h,u),o(f+h,u+c),o(f,u+c)],p=0;p<4;++p)if(e.vertex(l[p][0],l[p][1],l[p][2]),"line"==r){var m=(p+1)%4;e.vertex(l[m][0],l[m][1],l[m][2])}e.end()},triangle_with_lines:function(r,a,i,o){void 0===o&&(o=10);var u=[r,a,i];e.begin(t.LINES);for(var c=0;c<o;++c)for(var s=c/o,f=0;f<3;++f){var h=n.vec3.lerp([0,0,0],u[f],u[(f+2)%3],s),v=n.vec3.lerp([0,0,0],u[(f+1)%3],u[(f+2)%3],s);e.vertex(h[0],h[1],h[2]),e.vertex(v[0],v[1],v[2])}e.end()},quad_with_lines:function(r,a,i,o,u){void 0===u&&(u=10),e.begin(t.LINES);for(var c=0;c<=u;++c){var s=c/u,f=n.vec3.lerp([0,0,0],r,a,s),h=n.vec3.lerp([0,0,0],o,i,s);e.vertex(f[0],f[1],f[2]),e.vertex(h[0],h[1],h[2]),f=n.vec3.lerp([0,0,0],r,o,s),h=n.vec3.lerp([0,0,0],a,i,s),e.vertex(f[0],f[1],f[2]),e.vertex(h[0],h[1],h[2])}e.end()}}}},650:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=r(887);n.mat2.add_ip=function(t,e){return n.mat2.add(t,t,e)},n.mat2.adjoint_ip=function(t){return n.mat2.adjoint(t,t)},n.mat2.invert_ip=function(t){return n.mat2.invert(t,t)},n.mat2.mul_ip=function(t,e){return n.mat2.mul(t,t,e)},n.mat2.multiply_ip=function(t,e){return n.mat2.multiply(t,t,e)},n.mat2.rotate_ip=function(t,e){return n.mat2.rotate(t,t,e)},n.mat2.scale_ip=function(t,e){return n.mat2.scale(t,t,e)},n.mat2.transpose_ip=function(t){return n.mat2.transpose(t,t)},n.mat3.add_ip=function(t,e){return n.mat3.add(t,t,e)},n.mat3.adjoint_ip=function(t){return n.mat3.adjoint(t,t)},n.mat3.invert_ip=function(t){return n.mat3.invert(t,t)},n.mat3.mul_ip=function(t,e){return n.mat3.mul(t,t,e)},n.mat3.multiply_ip=function(t,e){return n.mat3.multiply(t,t,e)},n.mat3.rotate_ip=function(t,e){return n.mat3.rotate(t,t,e)},n.mat3.scale_ip=function(t,e){return n.mat3.scale(t,t,e)},n.mat3.translate_ip=function(t,e){return n.mat3.translate(t,t,e)},n.mat3.transpose_ip=function(t){return n.mat3.transpose(t,t)},n.mat4.add_ip=function(t,e){return n.mat4.add(t,t,e)},n.mat4.adjoint_ip=function(t){return n.mat4.adjoint(t,t)},n.mat4.invert_ip=function(t){return n.mat4.invert(t,t)},n.mat4.mul_ip=function(t,e){return n.mat4.mul(t,t,e)},n.mat4.multiply_ip=function(t,e){return n.mat4.multiply(t,t,e)},n.mat4.rotate_ip=function(t,e,r){return n.mat4.rotate(t,t,e,r)},n.mat4.rotateX_ip=function(t,e){return n.mat4.rotateX(t,t,e)},n.mat4.rotateY_ip=function(t,e){return n.mat4.rotateY(t,t,e)},n.mat4.rotateZ_ip=function(t,e){return n.mat4.rotateZ(t,t,e)},n.mat4.scale_ip=function(t,e){return n.mat4.scale(t,t,e)},n.mat4.translate_ip=function(t,e){return n.mat4.translate(t,t,e)},n.mat4.transpose_ip=function(t){return n.mat4.transpose(t,t)},n.mat4.ortho2d=function(t,e,r,a,i){return n.mat4.ortho(t,e,r,a,i,-1,1)},n.vec2.add_ip=function(t,e){return n.vec2.add(t,t,e)},n.vec2.div_ip=function(t,e){return n.vec2.div(t,t,e)},n.vec2.divide_ip=function(t,e){return n.vec2.divide(t,t,e)},n.vec2.lerp_ip=function(t,e,r){return n.vec2.lerp(t,t,e,r)},n.vec2.max_ip=function(t,e){return n.vec2.max(t,t,e)},n.vec2.min_ip=function(t,e){return n.vec2.min(t,t,e)},n.vec2.mul_ip=function(t,e){return n.vec2.mul(t,t,e)},n.vec2.multiply_ip=function(t,e){return n.vec2.multiply(t,t,e)},n.vec2.negate_ip=function(t){return n.vec2.negate(t,t)},n.vec2.normalize_ip=function(t){return n.vec2.normalize(t,t)},n.vec2.scale_ip=function(t,e){return n.vec2.scale(t,t,e)},n.vec2.scaleAndAdd_ip=function(t,e,r){return n.vec2.scaleAndAdd(t,t,e,r)},n.vec2.sub_ip=function(t,e){return n.vec2.sub(t,t,e)},n.vec2.subtract_ip=function(t,e){return n.vec2.subtract(t,t,e)},n.vec2.transformMat2_ip=function(t,e){return n.vec2.transformMat2(t,t,e)},n.vec2.transformMat2d_ip=function(t,e){return n.vec2.transformMat2d(t,t,e)},n.vec2.transformMat3_ip=function(t,e){return n.vec2.transformMat3(t,t,e)},n.vec2.transformMat4_ip=function(t,e){return n.vec2.transformMat4(t,t,e)},n.vec3.add_ip=function(t,e){return n.vec3.add(t,t,e)},n.vec3.cross_ip=function(t,e){return n.vec3.cross(t,t,e)},n.vec3.div_ip=function(t,e){return n.vec3.div(t,t,e)},n.vec3.divide_ip=function(t,e){return n.vec3.divide(t,t,e)},n.vec3.lerp_ip=function(t,e,r){return n.vec3.lerp(t,t,e,r)},n.vec3.max_ip=function(t,e){return n.vec3.max(t,t,e)},n.vec3.min_ip=function(t,e){return n.vec3.min(t,t,e)},n.vec3.mul_ip=function(t,e){return n.vec3.mul(t,t,e)},n.vec3.multiply_ip=function(t,e){return n.vec3.multiply(t,t,e)},n.vec3.negate_ip=function(t){return n.vec3.negate(t,t)},n.vec3.normalize_ip=function(t){return n.vec3.normalize(t,t)},n.vec3.scale_ip=function(t,e){return n.vec3.scale(t,t,e)},n.vec3.scaleAndAdd_ip=function(t,e,r){return n.vec3.scaleAndAdd(t,t,e,r)},n.vec3.sub_ip=function(t,e){return n.vec3.sub(t,t,e)},n.vec3.subtract_ip=function(t,e){return n.vec3.subtract(t,t,e)},n.vec3.transformMat3_ip=function(t,e){return n.vec3.transformMat3(t,t,e)},n.vec3.transformMat4_ip=function(t,e){return n.vec3.transformMat4(t,t,e)},n.vec3.transformQuat_ip=function(t,e){return n.vec3.transformQuat(t,t,e)},n.vec4.add_ip=function(t,e){return n.vec4.add(t,t,e)},n.vec4.div_ip=function(t,e){return n.vec4.div(t,t,e)},n.vec4.divide_ip=function(t,e){return n.vec4.divide(t,t,e)},n.vec4.lerp_ip=function(t,e,r){return n.vec4.lerp(t,t,e,r)},n.vec4.max_ip=function(t,e){return n.vec4.max(t,t,e)},n.vec4.min_ip=function(t,e){return n.vec4.min(t,t,e)},n.vec4.mul_ip=function(t,e){return n.vec4.mul(t,t,e)},n.vec4.multiply_ip=function(t,e){return n.vec4.multiply(t,t,e)},n.vec4.negate_ip=function(t){return n.vec4.negate(t,t)},n.vec4.normalize_ip=function(t){return n.vec4.normalize(t,t)},n.vec4.scale_ip=function(t,e){return n.vec4.scale(t,t,e)},n.vec4.scaleAndAdd_ip=function(t,e,r){return n.vec4.scaleAndAdd(t,t,e,r)},n.vec4.sub_ip=function(t,e){return n.vec4.sub(t,t,e)},n.vec4.subtract_ip=function(t,e){return n.vec4.subtract(t,t,e)},n.vec4.transformMat4_ip=function(t,e){return n.vec4.transformMat4(t,t,e)},n.vec4.transformQuat_ip=function(t,e){return n.vec4.transformQuat(t,t,e)},n.quat.add_ip=function(t,e){return n.quat.add(t,t,e)},n.quat.calculateW_ip=function(t){return n.quat.calculateW(t,t)},n.quat.conjugate_ip=function(t){return n.quat.conjugate(t,t)},n.quat.invert_ip=function(t){return n.quat.invert(t,t)},n.quat.lerp_ip=function(t,e,r){return n.quat.lerp(t,t,e,r)},n.quat.mul_ip=function(t,e){return n.quat.mul(t,t,e)},n.quat.multiply_ip=function(t,e){return n.quat.multiply(t,t,e)},n.quat.normalize_ip=function(t){return n.quat.normalize(t,t)},n.quat.rotateX_ip=function(t,e){return n.quat.rotateX(t,t,e)},n.quat.rotateY_ip=function(t,e){return n.quat.rotateY(t,t,e)},n.quat.rotateZ_ip=function(t,e){return n.quat.rotateZ(t,t,e)},n.quat.scale_ip=function(t,e){return n.quat.scale(t,t,e)},n.quat.slerp_ip=function(t,e,r){return n.quat.slerp(t,t,e,r)}},703:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.glu=void 0;var n,a=r(887);(n=e.glu||(e.glu={})).project=function(t,e,r,n){var i=a.mat4.mul(a.mat4.create(),r,e),o=a.vec4.transformMat4(a.vec4.create(),[t[0],t[1],t[2],1],i);return a.vec4.scale_ip(o,1/o[3]),[(o[0]+1)*n[2]/2+n[0],(o[1]+1)*n[3]/2+n[1],(o[2]+1)/2]},n.unproject=function(t,e,r,n){var i=[2*(t[0]-n[0])/n[2]-1,2*(t[1]-n[1])/n[3]-1,2*t[2]-1,1],o=a.mat4.mul(a.mat4.create(),r,e);a.mat4.invert_ip(o);var u=a.vec4.transformMat4(a.vec4.create(),i,o);return a.vec4.scale_ip(u,1/u[3]),[u[0],u[1],u[2]]},n.ortho2D=function(t,e,r,n,i){return a.mat4.ortho(t,e,r,n,i,-1,1)}},92:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.make_halfedge_mesh=e.Mesh=e.Edge=e.HalfEdge=e.Face=e.Vertex=void 0;var n=r(887),a=function(){function t(){this.halfedge=null,this.point=null,this.normal=null}return t.prototype.outgoing_halfedges=function(){for(var t=[],e=this.halfedge;t.push(e),(e=e.opposite.next)!=this.halfedge;);return t},t.prototype.incoming_halfedges=function(){return this.outgoing_halfedges().map((function(t){return t.opposite}))},t.prototype.vertices=function(){return this.outgoing_halfedges().map((function(t){return t.vertex}))},t.prototype.faces=function(){var t=[];return this.outgoing_halfedges().forEach((function(e){e.face&&t.push(e.face)})),t},t.prototype.edges=function(){return this.outgoing_halfedges().map((function(t){return t.edge}))},t.prototype.is_boundary=function(){return this.halfedge.is_boundary()},t.prototype.degree=function(){return this.outgoing_halfedges().length},t}();e.Vertex=a;var i=function(){function t(){}return t.prototype.halfedges=function(){for(var t=[],e=this.halfedge;t.push(e),(e=e.next)!=this.halfedge;);return t},t.prototype.vertices=function(){return this.halfedges().map((function(t){return t.vertex}))},t.prototype.faces=function(){return this.halfedges().map((function(t){return t.opposite.face}))},t.prototype.edges=function(){return this.halfedges().map((function(t){return t.edge}))},t.prototype.is_boundary=function(){return this.halfedges().some((function(t){return t.opposite.is_boundary()}))},t.prototype.centroid=function(){var t=[0,0,0],e=0;return this.vertices().forEach((function(r){n.vec3.add_ip(t,r.point),++e})),n.vec3.scale_ip(t,1/e)},t.prototype.degree=function(){return this.halfedges().length},t}();e.Face=i;var o=function(){function t(){}return t.prototype.from_vertex=function(){return this.opposite.vertex},t.prototype.is_boundary=function(){return null==this.face},t}();e.HalfEdge=o;var u=function(){function t(){}return t.prototype.halfedges=function(){return[this.halfedge,this.halfedge.opposite]},t.prototype.vertices=function(){return this.halfedges().map((function(t){return t.vertex}))},t.prototype.faces=function(){return this.halfedges().map((function(t){return t.face}))},t.prototype.is_boundary=function(){return this.halfedges().some((function(t){return t.is_boundary()}))},t}();e.Edge=u;var c=function(){function t(){this.vertices=[],this.faces=[],this.halfedges={},this.edges={}}return t.prototype.add_face=function(t,e,r){if(e&&e.length!=t.length)console.log("The size of face_normals is inconsistent with fv_indices");else if(r&&r.length!=t.length)console.log("The size of face_texcoords is inconsistent with fv_indices");else{for(var n=0;n<t.length;++n){var c=(f=t[n])+":"+(h=t[(n+1)%t.length]);if((q=this.halfedges[c])&&q.face)return void console.log("Nonmanifold edge found at ("+[f,h]+")")}var s=new i;for(n=0;n<t.length;++n){var f=t[n],h=t[(n+1)%t.length],v=this.vertices[f],l=this.vertices[h];v||(v=this.vertices[f]=new a),l||(l=this.vertices[h]=new a);var p=f+":"+h,m=h+":"+f,d=Math.min(f,h)+":"+Math.max(f,h),M=this.edges[d],_=void 0,g=void 0;M?(_=this.halfedges[p],g=this.halfedges[m]):(_=this.halfedges[p]=new o,g=this.halfedges[m]=new o,M=this.edges[d]=new u),v.halfedge=_,l.halfedge=g,_.vertex=l,g.vertex=v,_.opposite=g,g.opposite=_,_.edge=g.edge=M,M.halfedge=_,_.face=s,s.halfedge=_}for(n=0;n<t.length;++n){var b=t[n],y=t[(n+1)%t.length],x=t[(n+2)%t.length],A=this.halfedges[b+":"+y],w=this.halfedges[y+":"+x];A.next=w,w.prev=A}for(n=0;n<t.length;++n){var q;if(c=(f=t[n])+":"+(h=t[(n+1)%t.length]),!(q=this.halfedges[c]))return void console.log("Something weird is happening!");e&&(q.normal=e[n]),r&&(q.texcoord=r[n])}this.faces.push(s)}},t.prototype.halfedges_forEach=function(t){Object.keys(this.halfedges).forEach((function(e,r){t(this.halfedges[e],r)}))},t.prototype.edges_forEach=function(t){Object.keys(this.edges).forEach((function(e,r){t(this.edges[e],r)}))},t.prototype.init_ids=function(){for(var t=0;t<this.vertices.length;++t)this.vertices[t].id=t;this.faces.forEach((function(t,e){t.id=e})),this.edges_forEach((function(t,e){t.id=e})),this.halfedges_forEach((function(t,e){t.id=e}))},t.prototype.init_boundaries=function(){this.halfedges_forEach((function(t){t.is_boundary()&&(t.from_vertex().halfedge=t)})),this.halfedges_forEach((function(t){t.is_boundary()&&(t.next=t.vertex.halfedge,t.vertex.halfedge.prev=t)}))},t.prototype.num_vertices=function(){return this.vertices.length},t.prototype.num_faces=function(){return this.faces.length},t.prototype.num_edges=function(){return Object.keys(this.edges).length},t.prototype.compute_normals=function(){this.faces.forEach((function(t){t.normal=[0,0,0],t.halfedges().forEach((function(e){var r=e.from_vertex().point,a=e.vertex.point,i=e.next.vertex.point,o=n.vec3.sub(n.vec3.create(),a,r),u=n.vec3.sub(n.vec3.create(),i,r),c=n.vec3.cross(n.vec3.create(),o,u);n.vec3.add_ip(t.normal,c)})),n.vec3.normalize_ip(t.normal)})),this.vertices.forEach((function(t,e){t.normal=[0,0,0],void 0!==t.faces&&(t.faces().forEach((function(e){n.vec3.add_ip(t.normal,e.normal)})),n.vec3.normalize_ip(t.normal))}))},t}();e.Mesh=c,e.make_halfedge_mesh=function(){return new c}},290:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),r(650),a(r(550),e),a(r(16),e),a(r(70),e),a(r(36),e),a(r(402),e),a(r(703),e),a(r(92),e),a(r(875),e),a(r(934),e)},550:function(t,e,r){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),a=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),a(r(751),e),a(r(101),e),a(r(194),e),a(r(856),e)},856:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.get_legacygl=e.LegacyGL=void 0;var n=r(887),a=r(751),i=r(101),o=r(194),u=function(){function t(t,e,r){this.gl=t,this.shader=new a.Shader(t,e,r),this.uniforms={},this.vertex_attributes=[],this.add_vertex_attribute("vertex",3),delete this.vertex_attributes[0].current,this.vertex=function(t,e,r){for(var n=0;n<this.vertex_attributes.length;++n)for(var a="vertex"==(s=this.vertex_attributes[n]).name?[t,e,r]:s.current,i=0;i<s.size;++i)s.array.push(a[i]);var o=this.vertex_attributes[0].array.length/3;if(this.mode==this.QUADS&&o%6==4)for(var u=o-4,c=0;c<3;++c)if(1!=c)for(n=0;n<this.vertex_attributes.length;++n){var s=this.vertex_attributes[n];for(i=0;i<s.size;++i)s.array.push(s.array[s.size*(u+c)+i])}},this.QUADS="QUADS",this.displists={},this.current_displist_name=null,this.AUTO_NORMAL="AUTO_NORMAL",this.flags={AUTO_NORMAL:!1}}return t.prototype.add_uniform=function(t,e){var r=this.gl.getUniformLocation(this.shader.program,"u_"+t),n=new i.Uniform(r,e);this.uniforms[t]=n},t.prototype.add_uniform_array=function(t,e,r){var n=this.gl.getUniformLocation(this.shader.program,"u_"+t),a=new i.ArrayUniform(n,e,r);this.uniforms[t]=a},t.prototype.set_uniforms=function(){for(var t in this.uniforms){var e=this.uniforms[t],r=e.type,n=void 0;if(e.is_array){n=[];for(var a=0;a<e.value.length;++a){var i=e.value[a];if("1f"!=r&&"1i"!=r)for(var o=0;o<i.length;++o)n.push(i[o]);else n.push(i)}}else n=e.value;var u="uniform"+r;(e.is_array||"1f"!=r&&"1i"!=r)&&(u+="v"),"Matrix2f"==r||"Matrix3f"==r||"Matrix4f"==r?this.gl[u](e.location,!1,n):this.gl[u](e.location,n)}},t.prototype.add_vertex_attribute=function(t,e){for(var r=this.gl.getAttribLocation(this.shader.program,"a_"+t),n=new o.VertexAttribute(r,t,e),a=0;a<e;++a)n.current.push(0);this[t]=function(){for(var t=0;t<e;++t)n.current[t]=arguments[t]},this.gl.enableVertexAttribArray(n.location),this.vertex_attributes.push(n)},t.prototype.begin=function(t){this.set_uniforms(),this.mode=t;for(var e=0;e<this.vertex_attributes.length;++e)this.vertex_attributes[e].array=[]},t.prototype.end=function(){for(var t=this.gl,e={buffers:[],mode:this.mode==this.QUADS?t.TRIANGLES:this.mode,num_vertices:this.vertex_attributes[0].array.length/3},r=0;r<this.vertex_attributes.length;++r){var a=this.vertex_attributes[r],i=t.createBuffer();if(t.bindBuffer(t.ARRAY_BUFFER,i),e.buffers.push(i),e.mode==t.TRIANGLES&&"normal"==a.name&&this.flags.AUTO_NORMAL)for(var o=0;o<e.num_vertices/3;++o){for(var u=[],c=0;c<3;++c){var s=3*(3*o+c);u.push(this.vertex_attributes[0].array.slice(s,s+3))}n.vec3.sub_ip(u[1],u[0]),n.vec3.sub_ip(u[2],u[0]);var f=n.vec3.cross(n.vec3.create(),u[1],u[2]);for(n.vec3.normalize_ip(f),c=0;c<3;++c)a.array.splice(3*(3*o+c),3,f[0],f[1],f[2])}t.bufferData(t.ARRAY_BUFFER,new Float32Array(a.array),t.STATIC_DRAW),t.vertexAttribPointer(a.location,a.size,t.FLOAT,!1,0,0)}if(t.drawArrays(e.mode,0,e.num_vertices),this.current_displist_name)this.displists[this.current_displist_name].drawcalls.push(e);else for(o=0;o<e.buffers.length;++o)t.deleteBuffer(e.buffers[o])},t.prototype.newList=function(t){var e=this.displists[t];if(e){for(var r=0;r<e.drawcalls.length;++r)for(var n=e.drawcalls[r],a=0;a<n.buffers.length;++a)this.gl.deleteBuffer(n.buffers[a]);e.drawcalls=[]}else this.displists[t]={name:t,drawcalls:[]};this.current_displist_name=t},t.prototype.endList=function(){this.current_displist_name=null},t.prototype.callList=function(t){var e=this.gl,r=this.displists[t];if(r){this.set_uniforms();for(var n=0;n<r.drawcalls.length;++n){for(var a=r.drawcalls[n],i=0;i<this.vertex_attributes.length;++i){var o=this.vertex_attributes[i];e.bindBuffer(e.ARRAY_BUFFER,a.buffers[i]),e.vertexAttribPointer(o.location,o.size,e.FLOAT,!1,0,0)}e.drawArrays(a.mode,0,a.num_vertices)}}},t.prototype.displist_wrapper=function(t){var e=this;return{is_valid:!1,draw:function(r){this.is_valid?e.callList(t):(e.newList(t),r(),e.endList(),this.is_valid=!0)},invalidate:function(){this.is_valid=!1}}},t.prototype.enable=function(t){this.flags[t]=!0},t.prototype.disable=function(t){this.flags[t]=!1},t}();e.LegacyGL=u,e.get_legacygl=function(t,e,r){return new u(t,e,r)}},751:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Shader=void 0;e.Shader=function(t,e,r){this.vertex_shader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this.vertex_shader,e),t.compileShader(this.vertex_shader),t.getShaderParameter(this.vertex_shader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.vertex_shader)),this.fragment_shader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this.fragment_shader,r),t.compileShader(this.fragment_shader),t.getShaderParameter(this.fragment_shader,t.COMPILE_STATUS)||alert(t.getShaderInfoLog(this.fragment_shader)),this.program=t.createProgram(),t.attachShader(this.program,this.vertex_shader),t.attachShader(this.program,this.fragment_shader),t.linkProgram(this.program),t.useProgram(this.program),t.getProgramParameter(this.program,t.LINK_STATUS)||alert("Could not initialize shaders!")}},101:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Uniform=e.ArrayUniform=void 0;var n=r(887);e.ArrayUniform=function(t,e,r){this.location=t,this.type=e,this.is_array=!0,this.value=[];for(var a=0;a<r;++a)this.value.push("1f"==e||"1i"==e?0:"2f"==e||"2i"==e?n.vec2.create():"3f"==e||"3i"==e?n.vec3.create():"4f"==e||"4i"==e?n.vec4.create():"Matrix2f"==e?n.mat2.create():"Matrix3f"==e?n.mat3.create():"Matrix4f"==e?n.mat4.create():void 0)};var a=function(){function t(t,e){this.location=t,this.type=e,this.is_array=!1,this.value="1f"==e||"1i"==e?0:"2f"==e||"2i"==e?n.vec2.create():"3f"==e||"3i"==e?n.vec3.create():"4f"==e||"4i"==e?n.vec4.create():"Matrix2f"==e?n.mat2.create():"Matrix3f"==e?n.mat3.create():"Matrix4f"==e?n.mat4.create():void 0,this.stack=[]}return t.prototype.push=function(){var t="1f"==this.type||"1i"==this.type?this.value:"2f"==this.type||"2i"==this.type?n.vec2.copy(n.vec2.create(),this.value):"3f"==this.type||"3i"==this.type?n.vec3.copy(n.vec3.create(),this.value):"4f"==this.type||"4i"==this.type?n.vec4.copy(n.vec4.create(),this.value):"Matrix2f"==this.type?n.mat2.copy(n.mat2.create(),this.value):"Matrix3f"==this.type?n.mat3.copy(n.mat3.create(),this.value):"Matrix4f"==this.type?n.mat4.copy(n.mat4.create(),this.value):void 0;this.stack.push(t)},t.prototype.pop=function(){var t=this.stack[this.stack.length-1];this.value="1f"==this.type||"1i"==this.type?t:"2f"==this.type||"2i"==this.type?n.vec2.copy(n.vec2.create(),t):"3f"==this.type||"3i"==this.type?n.vec3.copy(n.vec3.create(),t):"4f"==this.type||"4i"==this.type?n.vec4.copy(n.vec4.create(),t):"Matrix2f"==this.type?n.mat2.copy(n.mat2.create(),t):"Matrix3f"==this.type?n.mat3.copy(n.mat3.create(),t):"Matrix4f"==this.type?n.mat4.copy(n.mat4.create(),t):void 0,this.stack.pop()},t}();e.Uniform=a},194:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VertexAttribute=void 0;e.VertexAttribute=function(t,e,r){this.current=[],this.array=[],this.location=t,this.name=e,this.size=r}},875:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.meshio=void 0;var n=r(934),a=r(92);!function(t){function e(t){var e=a.make_halfedge_mesh(),r=[],n=[],i=[];t.split("\n").forEach((function(t){var a=t.trim().split(/\s+/);if(!(a.length<4||"#"==a[0][0])){var o=a[0];if("v"==o){var u=parseFloat(a[1]),c=parseFloat(a[2]),s=parseFloat(a[3]);r.push([u,c,s])}else if("vn"==o)u=parseFloat(a[1]),c=parseFloat(a[2]),s=parseFloat(a[3]),n.push([u,c,s]);else if("vt"==o){var f=parseFloat(a[1]),h=parseFloat(a[2]);i.push([f,h])}else if("f"==o){for(var v=[],l=[],p=[],m=1;m<a.length;++m){var d=a[m].split("/");if(v.push(parseInt(d[0])-1),d.length>1&&d[1].length>0){var M=parseInt(d[1])-1;M<i.length&&l.push(i[M])}if(d.length>2&&d[2].length>0){var _=parseInt(d[2])-1;_<n.length&&p.push(n[_])}}p.length!=v.length&&(p=null),l.length!=v.length&&(l=null),e.add_face(v,p,l)}}}));for(var o=0;o<r.length;++o)e.vertices[o].point=r[o];return e.init_ids(),e.init_boundaries(),e}function r(t){for(var e,r,n,i=a.make_halfedge_mesh(),o=[],u=t.split("\n"),c=0,s=0,f=0;f<u.length;++f){var h=u[f].trim().split(" ");if(0!=h.length&&"#"!=h[0][0])if(e)if(r){if(c<r){var v=parseFloat(h[0]),l=parseFloat(h[1]),p=parseFloat(h[2]);o.push([v,l,p]),++c}else if(s<n){for(var m=[],d=1;d<h.length;++d)m.push(parseInt(h[d]));parseInt(h[0])!=m.length&&console.log("Inconsistent face-vertex count: "+h),i.add_face(m),++s}}else r=parseInt(h[0]),n=parseInt(h[1]);else{if("OFF"!=h[0])return void console.log("Bad magic: "+h[0]);e=!0}}for(s!=n&&console.log("Inconsistent face count: "+n+" as declared vs "+s+" found"),f=0;f<o.length;++f)i.vertices[f].point=o[f];return i.init_ids(),i.init_boundaries(),i}function i(t){var e=[];return t.vertices.forEach((function(t){for(var r="v ",n=0;n<3;++n)r+=t.point[n]+" ";e.push(r)})),t.faces.forEach((function(t){var r="f ";t.vertices().forEach((function(t){r+=t.id+1+" "})),e.push(r)})),e.join("\n")}function o(t){var e=["OFF"];return e.push(t.num_vertices()+" "+t.num_faces()+" 0"),t.vertices.forEach((function(t){for(var r="",n=0;n<3;++n)r+=t.point[n]+" ";e.push(r)})),t.faces.forEach((function(t){var r=t.vertices(),n=r.length+" ";r.forEach((function(t){n+=t.id+" "})),e.push(n)})),e.join("\n")}t.read_obj=e,t.read_off=r,t.read=function(t,a){var i=n.get_filename_extension(t);return".obj"==i?e(a):".off"==i?r(a):void console.log("Unsupported format: "+i)},t.write_obj=i,t.write_off=o,t.write=function(t,e){var r=n.get_filename_extension(e);return".obj"==r?i(t):".off"==r?o(t):void console.log("Unsupported format: "+r)}}(e.meshio||(e.meshio={}))},934:(t,e)=>{function r(t){return"."+t.toLowerCase().split(/\#|\?/)[0].split(".").pop().trim()}Object.defineProperty(e,"__esModule",{value:!0}),e.verify_filename_extension=e.get_filename_extension=void 0,HTMLCanvasElement.prototype.get_mousepos=function(t,e){for(var r=0,n=0,a=this;a;a=a.offsetParent)r+=a.offsetLeft,n+=a.offsetTop;for(a=this;a&&a!=document.body;a=a.parentElement)r-=a.scrollLeft,n-=a.scrollTop;var i=t.pageX-r,o=t.pageY-n;return(void 0===e||e)&&(o=this.height-o),[i,o]},HTMLCanvasElement.prototype.aspect_ratio=function(){return this.width/this.height},e.get_filename_extension=r,e.verify_filename_extension=function(t,e){var n=r(t);if(e.some((function(t){return t==n})))return n;alert("Supported formats are: "+e)}}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t,e,n,a,i,o,u,c,s=r(887),f=r(290),h=null;function v(t,e,r,n){var a=s.vec2.scaleAndAdd_ip(s.vec2.scale(s.vec2.create(),t,1-n),e,n),i=s.vec2.scaleAndAdd_ip(s.vec2.scale(s.vec2.create(),e,1-n),r,n);return s.vec2.scaleAndAdd_ip(s.vec2.scale(s.vec2.create(),a,1-n),i,n)}function l(){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),s.mat4.perspective(n.uniforms.projection.value,Math.PI/6,e.aspect_ratio(),.1,1e3);var r=n.uniforms.modelview;i.lookAt(r.value),t.lineWidth(1),n.color(.5,.5,.5),a.xygrid(100),n.color(1,.6,.2),n.begin(t.LINE_STRIP);for(var f=document.getElementById("input_numsteps"),h=Number(f.value),l=0;l<=h;++l){var p=l/h;n.vertex2(v(o,u,c,p))}if(n.end(),document.getElementById("input_show_samplepoints").checked){for(n.begin(t.POINTS),l=0;l<=h;++l)p=l/h,n.vertex2(v(o,u,c,p));n.end()}document.getElementById("input_show_controlpoints").checked&&(n.color(.2,.5,1),n.begin(t.LINE_STRIP),n.vertex2(o),n.vertex2(u),n.vertex2(c),n.end(),n.begin(t.POINTS),n.vertex2(o),n.vertex2(u),n.vertex2(c),n.end())}window.draw=l,window.init=function(){e=document.getElementById("canvas"),(t=e.getContext("experimental-webgl"))||alert("Could not initialize WebGL, sorry :-("),(n=f.get_legacygl(t,"        attribute vec3 a_vertex;        attribute vec3 a_color;        varying vec3 v_color;        uniform mat4 u_modelview;        uniform mat4 u_projection;        void main(void) {            gl_Position = u_projection * u_modelview * vec4(a_vertex, 1.0);            v_color = a_color;            gl_PointSize = 5.0;        }        ","        precision mediump float;        varying vec3 v_color;        void main(void) {            gl_FragColor = vec4(v_color, 1.0);        }        ")).add_uniform("modelview","Matrix4f"),n.add_uniform("projection","Matrix4f"),n.add_vertex_attribute("color",3),n.vertex2=function(t){this.vertex(t[0],t[1],0)},a=f.get_drawutil(t,n),(i=f.get_camera(e.width)).eye=[0,0,7],o=[-.5,-.6],u=[1.2,.5],c=[-.4,1.3],e.onmousedown=function(t){var r=e.get_mousepos(t);if(t.altKey)i.start_moving(r,t.shiftKey?"zoom":"pan");else for(var a=[o,u,c],v=[0,0,e.width,e.height],l=1e7,p=0;p<3;++p){var m=f.glu.project([a[p][0],a[p][1],0],n.uniforms.modelview.value,n.uniforms.projection.value,v),d=s.vec2.dist(r,m);d<l&&(l=d,h=a[p])}},e.onmousemove=function(t){var r=e.get_mousepos(t);if(i.is_moving())return i.move(r),void l();if(null!=h){var a=[0,0,e.width,e.height];r.push(1);var o=f.glu.unproject(r,n.uniforms.modelview.value,n.uniforms.projection.value,a),u=[0,0,1],c=s.vec3.sub(s.vec3.create(),o,i.eye),v=s.vec3.sub(s.vec3.create(),[0,0,0],i.eye),p=s.vec3.dot(c,u),m=s.vec3.dot(v,u),d=s.vec3.scale(s.vec3.create(),c,m/p);s.vec3.add(h,i.eye,d),l()}},document.onmouseup=function(t){i.is_moving()?i.finish_moving():h=null},t.viewport(0,0,e.width,e.height),t.clearColor(1,1,1,1)}})()})();